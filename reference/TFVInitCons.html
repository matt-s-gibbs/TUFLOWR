<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Generate a TFV initial conditions file from point observations — TFVInitCons • TUFLOWR</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Generate a TFV initial conditions file from point observations — TFVInitCons"><meta property="og:description" content="Generate a TFV initial conditions file from point observations"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">TUFLOWR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate a TFV initial conditions file from point observations</h1>
    
    <div class="hidden name"><code>TFVInitCons.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Generate a TFV initial conditions file from point observations</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">TFVInitCons</span><span class="op">(</span></span>
<span>  <span class="va">file</span>,</span>
<span>  <span class="va">fgdb</span>,</span>
<span>  <span class="va">initialvaluesfile</span>,</span>
<span>  <span class="va">outputfile</span>,</span>
<span>  cellsize <span class="op">=</span> <span class="fl">50</span>,</span>
<span>  ncell <span class="op">=</span> <span class="fl">50000</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>file</dt>
<dd><p>.2dm mesh used to generate the cell IDs and centres</p></dd>


<dt>fgdb</dt>
<dd><p>Shape file (.shp and associated .prj) for zones to be preserved</p></dd>


<dt>initialvaluesfile</dt>
<dd><p>csv file with observed data to interpolate</p></dd>


<dt>outputfile</dt>
<dd><p>file to write the initial conditions to</p></dd>


<dt>cellsize</dt>
<dd><p>size of cells to interpolate the observations onto</p></dd>


<dt>ncell</dt>
<dd><p>number of cells to interpolate the observations onto</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Nothing is returned to the environment, with the initial conditions generated written to outputfile. Summary metrics are printed to screen to allows for some quick QA</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The shapefile should be a polygon shape file, with different zones to interpolate within. This can be useful to ensure
interpolations are physically sensible, for example where there is a barrier between fresh and saline water, or a
storage above a lower river. Projections are not handled by this function, so the shapefile should be in the same projection as the mesh.</p>
<p>The initialvaluesfile should have at least 6 columns of information:</p><ul><li><p>Column 1 as point index</p></li>
<li><p>Column 2 and 3, columns named "X" and "Y",
with the coordinates of the point observation, in the same projection as the mesh.</p></li>
<li><p>Columns 4 and 5 are reserved for point information, e.g. a station number and station name.
 These are not used, but all for context to be documented, and helpful and if the same csv file is also used for specifying locations in a points output block in the model .fvc file.</p></li>
<li><p>Columns 6 and beyond should be values and will be interpolated. Each column will be interpolated for each zone,
allowing for multiple initial conditions. The column name should match the model scalar (e.g. H, SAL, TEMP, trace_1)</p></li>
</ul><p>cellsize and ncell are used to specify the resolution of the interpolation. ncell is in units of the mesh coordinates, e.g. m or degrees</p>
<p>interpolation is undertaken using inverse distance weighting from the gstat package, with the default weighting power of 2.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">file</span><span class="op">=</span><span class="st">"001_RM_Wetlands_LL_Coorong_MZ.2dm"</span></span></span>
<span class="r-in"><span><span class="va">fgdb</span><span class="op">&lt;-</span><span class="st">"Zones/Zones.shp"</span></span></span>
<span class="r-in"><span><span class="va">initialvaluesfile</span><span class="op">&lt;-</span><span class="st">"CLLMMInitialValues2019.csv"</span></span></span>
<span class="r-in"><span><span class="va">outputfile</span><span class="op">&lt;-</span><span class="fu">pate0</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,<span class="st">"/Initcons2021.csv"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">TFVInitCons</span><span class="op">(</span><span class="va">file</span>,<span class="va">fgdb</span>,<span class="va">initialvaluesfile</span>,<span class="va">outputfile</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Matt Gibbs.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

